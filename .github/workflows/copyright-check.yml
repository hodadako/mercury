name: Copyright Check

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]

jobs:
  copyright-check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Make script executable
      run: chmod +x check-copyright.sh
      
    - name: Run copyright check
      run: ./check-copyright.sh
      
    - name: Check copyright in Javadoc (optional)
      run: |
        echo "üîç Checking for copyright in Javadoc comments..."
        if grep -r "Copyright (c) 2025 mercury contributors" core/src --include="*.java" | grep -v "/*" | grep -v "*/"; then
          echo "‚ùå Found copyright in Javadoc comments (should be in file header only)"
          exit 1
        else
          echo "‚úÖ No copyright found in Javadoc comments"
        fi 